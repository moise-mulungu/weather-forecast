
## AI Prompt: fix the code Weather function
- i used Sider AI to correct the weather function with the following prompt: "how to fix the *** Error: Objects are not valid as a React child (found: object with keys {lon, lat}). If you meant to render a collection of children, use an array instead***.
- the SiderAI responded to: 
  - The error is caused by trying to render the entire "weather" object as a child element. To fix this, we need to remove the following code:
  ```js
  <div>
    {Object.keys(weather).map((key) => (
      <p key={key}>
        {key}: {weather[key]}
      </p>
    ))}
  </div> 
  ```
  - Instead, we can render each weather property individually, like this:
    ```js
    <div>
    <p>Temperature: {weather.main?.temp}Â°F</p>
    <p>Humidity: {weather.main?.humidity}%</p>
    <p>Description: {weather.weather?.[0]?.description}</p>
    <p>Wind Speed: {weather.wind?.speed} mph</p>
  </div>
  ```

## AxiosError: Request failed with status code 500

- Yesterday i had two debugging issues:
  1. AxiosError: Request failed with status code 500
  2. the celsius and fahrenheit degree values were over not correct.
   
For the first issue, I :
***howtojs: error:: error structure in javascript is made with the name or identifier(syntax , reference , type, evaluation , range, URI  and internal), and the message***
  1. asked SiderAI prompt to get the meaning of the error : "what are different parts of an error such as this one: "AxiosError: Request failed with status code 500"
     * answer:
       The given error message "AxiosError: Request failed with status code 500" is likely to be thrown when using Axios library (a promise-based HTTP client) in JavaScript. It is broken down into several parts:

       1. **AxiosError**: This is the error name/type. It indicates that this error message was generated by the Axios library. This category of error is specific to issues caught when making HTTP requests through Axios.

       2. **Request failed with status code 500**: This is the error message and hints at what went wrong. Here it indicates that an HTTP request made using Axios failed. 

          - **Request failed**: This is the general error status indicating that a requested operation (typically a network request) could not be completed.

          - **Status code 500**: This is the HTTP status code of the response causing the error. 500 is a generic server error message, implying that an unexpected condition was encountered on the server side and no more specific message is available.

       However, this is a fairly high level error message. The exact reason for a 500 error can vary and additional information would typically be found within the server logs.

***howtojs: error:: AxiosError: Request failed with status code 500, to fix this error, check the request endpoint, add your verified API key, check the fetch function, and verify the server***
  2. I used this prompt to get what could be the reasons for the error: "AxiosError: Request failed with status code 500"
     * answer: 
        The error `AxiosError: Request failed with status code 500` means that a request made using Axios has failed. Specifically, the HTTP status code 500 means that something went wrong on the server side that could not fulfill the request.

         Here's what might be causing it in your code:

         * Server error: The error indicates an issue with the server where you're sending the request. It might be a problem on their side.

         * API key: You're using `process.env.OPEN_WEATHER_MAP_API_KEY` as the API key in the request. Ensure that the API key is valid and being loaded correctly into your environment.

         * Invalid city: You're trying to fetch weather data for a city requested by the user. Make sure that the 'city' parameter is being passed correctly in the `req.query`.

         * URL: Ensure that the URL you constructed for the GET request to the OpenWeatherMap API is correct.

       You'll want to add more error-handling to this code to help diagnose the issue. For example, you can add console logs to print out more details about the error, or even inspect the details of what's returned by the API call (the `error.response.data` in your catch block).

***howtojs: axios library:: to use the axios library, install its package(npm install axios), require axios on top of the file, use an axios function with get(api-endpoint), then(handle the response), and catch(handle the error) methods***
  3. i then tried to learn how axios library works with fetched data
    * i googled(https://axios-http.com/docs/example) and used this prompt: "how axios library works with fetched data"
    * answer :
      - Axios is a Promise-based HTTP client for Javascript which can be used in both browser and server (Node.js). It is especially handy when we want to send asynchronous HTTP request to REST endpoints and perform CRUD operations.

         Below is a basic example of how to use Axios for sending GET requests (which would fetch data from a server) in Node.js:
         
         ```js
         const axios = require('axios');

         axios.get('https://api.example.com/data')
           .then(response => {
             // handle the response
             console.log(response.data);
           })
           .catch(error => {
             // handle the error
             console.log(error, error.message, error.response?.data);
           });
         ```

  4. i open src/pages/api/weather.js file to check if the code inside is similar to the axios provided basic example above
     * i double-checked the get() function which should be openWeatherMap API endpoint with the the API key.
     * i checked the "handle response" function
     * and finally checked the "handle error" function

***howtojs: axios library:: fetch data function, the fetch data method has two parameters; the API URL(get data) and options(headers and authentication).***
  5. i checked the fetchData function in the src/features/weather-forecast/weather-forecast-contents/weather.jsx file
     * i used a prompt: "how would the fetchWeatherData function be like?"
     * answer: 
       ```js
         const fetchWeatherData = async (city) => {
           try {
             const response = await axios.get(`/api/weather?city=${city}`)
             if (response.status === 200) {
               setWeather(response.data); // This updates the state with the fetched data.
             } else {
               console.error('Failed to fetch weather data');
             }
           } catch (error) {
             console.error(error)
           }
         }
        ......
         return(
          <button
             className="bg-blue-500 hover:bg-blue-600 text-white ml-1 py-2 px-4 rounded-r focus:outline-none focus:ring-2 focus:ring-blue-500"
             onClick={() => fetchWeatherData()} // MM: here i used the handleDegreeChange() function where i called fetchWeatherData() function
           >
             Get Weather
           </button>
         )

       ``` 
  6. I run the server "npm run dev" to start the server and check the issue on devtools:
     * i open the console tab of the devtools, but i found the error message with complex details that i could not figure out.
     * i paused there


## the celsius and fahrenheit degree values were over not correct.

This error were not displayed on the console, but when i put a city to get the temperature, the degree was over the expected value that the open weather map endpoint offers.


(done)DM: limit your howtojs to general principles, not to a specific calculation for a specific app. In this case your howtojs line should include text regarding debugging a math formula. When you solve this problem, make a howtojs about what technique you used to debug and solve the error.

***howtojs: function:: to convert celsius to fahrenheit degrees, add a celsius param then return the celsius value times 9, divide by 5 plus 32(formula F = C * 9/5 + 32.).***
To fix this issue:
  * i checked the convertFahrenheitToCelsius() function that converts a fahrenheit temperature degrees to celsius in the src/features/weather-forecast/weather-forecast-contents/weather.jsx file
  
  ```js
    const convertFahrenheitToCelsius = (fahrenheit) => {
      console.log('fahrenheit:', { fahrenheit }) // i consoled to check the fahrenheit value
      return Math.round(((fahrenheit - 32) * 5) / 9)
    }
  ```
  ***howtojs: function:: to convert fahrenheit to celsius degrees, add a fahrenheit param then return the fahrenheit value minus 32, times 5 divide by 9(formula C = (F - 32) * 5/9.).***
  
  * i open the Thunder Client API platform, run the open-weather-map-api endpoint to check whether the `temp` property  default degrees are in fahrenheit or in celsius.
  * i checked in the return statement of the weather function where i called convertFahrenheitToCelsius() function
  * when i used console.log(fahrenheit), i am getting fahrenheit values undefined.
  * As i could not make any progress, i paused there.

* i proceeded the debug process of getting the exact fahrenheit and celsius degree values by:
  1. reverted the previous code of fetchWeatherData() function and of useEffect() method in the src/features/weather-forecast/weather-forecast-contents/weather.jsx file
  2. after reverting the app worked perfectly 
  3. i looked closely at the difference between the previous and the current fetchWeatherData, i found that the first version had "q", "units", and "appid" properties in the params object, but the second version of the fetchWeatherData() function misses the "units" property.
  4. i opened the src/pages/api/weather.js file where i am getting the open-weather-map-api, i realized that the "units" property was missing, then i added it.
  5. i run the server for checking, then all the fahrenheit and celsius degree values were fixed.